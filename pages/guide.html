<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SmallBASIC | guide</title>
  <meta name="description" content="SmallBASIC | One more basic">
  <link rel="canonical" href="/guide.html">
  <link rel="keywords" href="guide">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="icon" type="image/png" href="/images/sb-desktop-32x32.png">
  <script src="/clipboard.js"></script>
</head>
  <body>
<button onclick="topFunction()" id="BackToTopBtn" title="Go to top">&#11205;</button>
<script src="/backtotop.js"></script>
<div class="wrapAll clearfix">
  <nav class="navigation">
    <div class="logo">
      <a href="/"><img src='/images/sb-logo.png?v=2' alt="logo"></a>
    </div>
    <div class="navlinks">
      <a  href="/pages/download.html">Download</a>
      <a  href="/pages/news.html">News</a>
      <a  href="/pages/community.html">Community</a>
      <a  href="/pages/articles.html">Resources</a>
      <a  href="/pages/reference.html">Language Reference</a>
      <a class='active' href="/pages/guide.html">SmallBASIC Manual</a>
    </div>
  </nav>
  <div class="mainsection">
    <div class="tabs clearfix">
      <div class="tabsRight">
          <a target="_github" href="https://github.com/smallbasic/smallbasic.github.io/blob/master/_build/pages/guide.markdown">Edit</a>
          <a target="_github" href="https://github.com/smallbasic/smallbasic.github.io/commits/master/_build/pages/guide.markdown">History</a>
      </div>
    </div>
<div class="article">
<h1 id="smallbasic-user-guide">SmallBASIC User Guide</h1>
<blockquote>
<p>SmallBASIC is a fast and easy to learn BASIC language interpreter
ideal for everyday calculations, scripts and prototypes. SmallBASIC
includes trigonometric, matrices and algebra functions, a built in IDE,
a powerful string library, system, sound, and graphic commands along
with structured programming syntax.</p>
</blockquote>
<div class="articleRight">
<div class="articleRightInner">
<p>Contents</p>
</div>
<ul>
<li><a href="#GettingStarted">Getting Started</a>
<ul>
<li><a href="#SmallbasicVersions">SmallBASIC Versions</a></li>
<li><a href="#Windows">Windows</a></li>
<li><a href="#Linux">Linux</a></li>
<li><a href="#Android">Android</a></li>
<li><a href="#Teensy">Teensy</a></li>
<li><a href="#BuildFromSource">Build from Source</a></li>
<li><a href="#UsingtheIntegratedDevelopmentEnvironment">Using the
IDE</a></li>
</ul></li>
<li><a href="#SourceCodeFormat">Source Code Format</a></li>
<li><a href="#Comments">Comments</a></li>
<li><a href="#NumberAndStrings">Numbers and Srings</a>
<ul>
<li><a href="#Integers">Integers</a></li>
<li><a href="#Reals">Reals</a></li>
<li><a href="#Strings">String Literals</a></li>
</ul></li>
<li><a href="#ConstantsVariables">Variables and Constants</a>
<ul>
<li><a href="#Variable">Variable names</a></li>
<li><a href="#AssigningValuesToVariables">Assigning Values to
Variables</a></li>
<li><a href="#Constants">Constants</a></li>
</ul></li>
<li><a href="#Arrays">Arrays</a>
<ul>
<li><a href="#CreatingArrays">Creating Arrays</a></li>
<li><a href="#AccessingElementsOfAnArray">Accessing Elements of an
Array</a></li>
<li><a href="#NestedArrays">Nested Arrays</a></li>
<li><a href="#PackedUnpackedAssignment">Packed/Unpacked
Assignment</a></li>
<li><a href="#ArrayOperations">Array Operations</a></li>
</ul></li>
<li><a href="#Matrices">Matrices</a>
<ul>
<li><a href="#Creating2DMatrices">Creating 2D Matrices</a></li>
<li><a href="#AccessingElementsOfA2DMatrix">Accessing Elements of a 2D
Matrix</a></li>
<li><a href="#MatrixOperations">2D Matrix Operations</a></li>
<li><a href="#HigherDimensionalMatrices">Higher Dimensional
Matrices</a></li>
<li><a href="#RowAndColumnVectors">Row and Column Vectors</a></li>
</ul></li>
<li><a href="#Maps">Maps</a>
<ul>
<li><a href="#CreatingAMapVariable">Creating a Map Variable</a></li>
<li><a href="#AccessingElementsOfAMapVariable">Accessing Elements of a
Map Variable</a></li>
<li><a href="#AddKeyValuePairs">Add Key-Value Pairs</a></li>
<li><a href="#KeyValuePairsWithReferences">Key-Value Pairs with
References</a></li>
<li><a href="#MapsAsPseudoObjectForOOP">Maps as Pseudo Objects for
OOP</a></li>
</ul></li>
<li><a href="#Operators">Operators</a>
<ul>
<li><a href="#SupportedOperators">Supported Operators</a></li>
<li><a href="#PseudoOperators">Pseudo-Operators</a></li>
</ul></li>
<li><a href="#Expressions">Expressions</a></li>
<li><a href="#SubroutinesAndFunctions">Subroutines and Functions</a>
<ul>
<li><a href="#SubroutinesAndFunctionsNames">Names</a></li>
<li><a href="#DeclarationOfSubroutines">Declaration of
Subroutines</a></li>
<li><a href="#DeclarationOfFunctions">Declaration of Functions</a></li>
<li><a href="#Parameters">Parameters</a></li>
<li><a href="#ExitAFunctionOrSubroutine">Exit a function or
subroutine</a></li>
<li><a href="#SingleLineFunctions">Single-Line Functions</a></li>
<li><a href="#LogicalExpressionShortCircuitEvaluation">Short-circuit
evaluation</a></li>
<li><a href="#UsingLocalVariables">Using Local Variables</a></li>
<li><a href="#NestedRoutines">Nested Routines</a></li>
<li><a href="#FunctionAndRoutinePointers">Function and Routine
Pointers</a></li>
<li><a href="#DeclarationsInPalmOS">Declarations in PalmOS</a></li>
</ul></li>
<li><a href="#Conditions">Conditions</a>
<ul>
<li><a href="#IfThenElseifEndif">IF-THEN-ELSIF-ELSE</a></li>
<li><a href="#SingleLineIfThenElse">Single-Line IF-THEN-ELSE</a></li>
<li><a href="#InlineVersionOfIf">Inline Version of IF</a></li>
<li><a href="#SelectCase">SELECT CASE</a></li>
</ul></li>
<li><a href="#Loops">Loops</a>
<ul>
<li><a href="#ForToNextLoop">FOR-TO-NEXT Loop</a></li>
<li><a href="#ForInNextLoop">FOR-IN-NEXT Loop</a></li>
<li><a href="#WhileWendLoop">WHILE-WEND Loop</a></li>
<li><a href="#RepeatUntilLoop">REPEAT-UNTIL Loop</a></li>
<li><a href="#TheDoKeyword">The DO Keyword</a></li>
</ul></li>
<li><a href="#Units">Units</a>
<ul>
<li><a href="#UnitsDeclaration">Declaration</a></li>
<li><a href="#UnitsImport">Import</a></li>
<li><a href="#NamePathing">Name Pathing</a></li>
</ul></li>
<li><a href="#InputAndOutput">Input and Output</a>
<ul>
<li><a href="#PrintOnScreen">Print on Screen</a></li>
<li><a href="#ReadInputFromKeyboard">Read Input from the
Keyboard</a></li>
<li><a href="#DrawGraphicsOnScreen">Draw Graphics on Screen</a></li>
<li><a href="#BasicFileReadAndWrite">Basic File Read and Write</a></li>
<li><a href="#SaveArraysAndMapsToAFile">Save Arrays and Maps to a
File</a></li>
<li><a href="#SaveVariablesToAFile">Save Variables to a File</a></li>
<li><a href="#BinaryFiles">Binary Files</a></li>
</ul></li>
<li><a href="#TheUseKeyword">The USE Keyword</a></li>
<li><a href="#Statement1">OPTION</a>
<ul>
<li><a href="#Statement2">OPTION BASE</a></li>
<li><a href="#Statement3">OPTION MATCH</a></li>
<li><a href="#Statement4">OPTION PREDEF</a></li>
</ul></li>
<li><a href="#Meta">Meta Commands</a></li>
<li><a href="#ExceptionHandling">Exception Handling</a></li>
</ul>
</div>
<h2 id="GettingStarted">Getting Started</h2>
<p>SmallBASIC is available for various operating systems, including
Windows, Linux, and Android. It can be built from source to run on many
other POSIX-compliant systems, such as Raspberry Pi OS. With its
built-in Integrated Development Environment (IDE), you can write
programs on your Android-powered tablet or mobile phone and run them
instantly.</p>
<h3 id="SmallbasicVersions">SmallBASIC Versions</h3>
<p>SmallBASIC comes in three different flavors for the desktop. The SDL
version offers a simple but efficient IDE and is perfect for working
with graphics. The FLTK version has a great IDE. The console version
doesn’t offer an IDE and is text-only but works perfect with plugins
like raylib or nuklear. The Android version is similar to the SDL
version and comes with an integrated IDE, too.</p>
<h3 id="Windows">Windows</h3>
<p>Download the <a href="/pages/download.html">latest release of
SmallBASIC</a>. The different versions of SmallBASIC are included in the
zip-file. Extract the zip-file to a location of your choice. Open the
SmallBASIC folder and start one of the following programs:</p>
<ul>
<li>sbasicg.exe: SDL</li>
<li>sbasici.exe: FLTK</li>
<li>sbasic.exe: Console</li>
</ul>
<h3 id="Linux">Linux</h3>
<p>Download the <a href="pages/download.html">latest release of
SmallBASIC</a>. The different versions of SmallBASIC are provided as
separate AppImages. Download an AppImage and copy it to a directory of
your choice. Execute the AppImage. Depending of the Linux version you
have to make the AppImage executable:
<code>chmod u+x AppImageFile</code>, where <code>AppImageFile</code> is
the filename of the AppImage.</p>
<h3 id="Android">Android</h3>
<p>Download and install SmallBASIC for Android using <a
href="https://play.google.com/store/apps/details?id=net.sourceforge.smallbasic">Google
Play</a>. Files are stored in <code>/InternalMemory/SmallBASIC</code> or
in case of an old Android version in
<code>/InternalMemory/Android/data/net.sourceforge.smallbasic/files</code>.
For easy file transfer between Android and desktop, please read <a
href="/pages/android_file_transfer.html">SmallBASIC file
transfer</a></p>
<h3 id="Teensy">Teensy</h3>
<p>SmallBASIC runs on the Teensy 4.0 and Teensy 4.1. For more
information please read the <a href="/pages/teensy.html">Teensy
guide</a>.</p>
<h3 id="BuildFromSource">Build from Source</h3>
<p>Using Linux it is quite easy to build SmallBASIC from source. This
has the advantage, that you don’t need to use AppImages and you can use
SmallBASIC on other devices like Raspberry Pi. Please follow the
instructions on <a
href="https://github.com/smallbasic/SmallBASIC">Github</a>.</p>
<h3 id="UsingtheIntegratedDevelopmentEnvironment">Using the Integrated
Development Environment</h3>
<p>Please read the separate articles for the different versions of
SmallBASIC:</p>
<ul>
<li><a href="/pages/sdl.html">SDL</a></li>
<li><a href="/pages/android.html">Android</a></li>
<li><a href="/pages/fltk.html">FLTK</a></li>
</ul>
<h2 id="SourceCodeFormat">Source Code Format</h2>
<p>SmallBASIC files are plain text files in ASCII or UTF-8. A program
consists of at least one line of text. Every line is terminated with a
<code>CR</code> or <code>CR/LF</code>. Each line consist of one or more
commands. Multiple commands in a line are separated by a colon
<code>:</code>. If <code>&amp;</code> is the last character of a line,
SmallBASIC will continue with the command in the next line.</p>
<p>Spaces and tabs are ignored as long as the syntax is valid. Inside a
string literal spaces and tabs are retained.</p>
<p>A line can start with a line number. Line numbers can be in any
order. Multiple lines can have the same line number. Commands like
<code>GOTO</code> will go to the last line with the specified line
number.</p>
<h2 id="Comments">Comments</h2>
<p>A comment is a piece of code which is ignored by SmallBASIC but gives
the programmer helpful information about the source code. Comments can
be created by placing text after a quotation mark <code>'</code> or
after the command <code>REM</code>. Comments can be placed anywhere in
the code but not inside a string. Starting with <code>'</code> or
<code>REM</code> the rest of the line will be a comment.</p>
<p>When using <code>REM</code> be aware that <code>REM</code> is a build
in command and multiple commands need to be separated with a colon
<code>:</code>.</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; This is a comment</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co">REM This is a comment</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>a = <span class="dv">1</span>  <span class="co">&#39; This is a comment</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>a = <span class="dv">1</span>  : <span class="co">REM This is a comment</span></span></code></pre></div>
<h2 id="NumberAndStrings">Numbers and Strings</h2>
<h3 id="Integers">Integers</h3>
<p>Integers are used to store numeric values without any fractional
part. Integer is the default data type. You can declare integers in
decimal, hexadecimal, octal and binary form. For hexadecimal the number
starts with <code>0x</code> or <code>&amp;x</code>, for octal with
<code>0o</code> or <code>&amp;o</code>, and for binary with
<code>0b</code> or <code>&amp;b</code>.</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="dv">256</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="dv">0x100</span> <span class="co">&#39; Hexadecimal form 1</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="dv">&amp;h100</span> <span class="co">&#39; Hexadecimal form 2</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="dv">0o400</span> <span class="co">&#39; Octal form 1</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="dv">&amp;o400</span> <span class="co">&#39; Octal form 2</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="dv">0b111</span> <span class="co">&#39; Binary form 1</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="dv">&amp;b111</span> <span class="co">&#39; Binary form 2</span></span></code></pre></div>
<h3 id="Reals">Reals</h3>
<p>Floating point values are used to store numeric data which may have a
fractional part. Any number which out-bounds the limits or an integer or
has decimal digits will be converted automatically to real. Reals can be
written in scientific notation.</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1.2</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="dv">.25</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1E2</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1.2E-2</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="dv">2.6E-0.25</span></span></code></pre></div>
<h3 id="Strings">String Literals</h3>
<p>Strings are used to store sequences of characters. The characters of
a string are enclosed with <code>"</code>. If a string spans more than
one line, enclose the string with <code>"""</code>. The end of each line
will be a line break in the string. Strings may be appended to one
another using the <code>+</code> operator.</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;This is a string&quot;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Hello, &quot;</span> + <span class="st">&quot;world!&quot;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;&quot;&quot;This is</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>a <span class="fu">string</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>over several lines</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>with <span class="fu">line</span> breaks<span class="st">&quot;&quot;&quot;</span></span></code></pre></div>
<p>If the closing quote character is not present then the end of line
marker is used to terminate the string definition, for example:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>a = <span class="st">&quot;this is a string</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>b = <span class="st">&quot; and this is another string</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="kw">PRINT</span> a;b</span></code></pre></div>
<p>Strings can contain escape sequences. Escape sequences always start
with the <code>\</code> character. The following escape sequences are
supported:</p>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr>
<th>Code</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>\a</code></td>
<td>beep</td>
</tr>
<tr>
<td><code>\t</code></td>
<td>tab (20 px)</td>
</tr>
<tr>
<td><code>\r</code></td>
<td>return</td>
</tr>
<tr>
<td><code>\n</code></td>
<td>next line</td>
</tr>
<tr>
<td><code>\"</code></td>
<td>quote <code>"</code></td>
</tr>
<tr>
<td><code>\\</code></td>
<td>Backslash <code>\</code></td>
</tr>
<tr>
<td><code>\e[K</code></td>
<td>clear to end of line</td>
</tr>
<tr>
<td><code>\e[nG</code></td>
<td>move to column <code>n</code></td>
</tr>
<tr>
<td><code>\e[s</code></td>
<td>save cursor position</td>
</tr>
<tr>
<td><code>\e[u</code></td>
<td>restore cursor position</td>
</tr>
<tr>
<td><code>\e[0m</code></td>
<td>reset all attributes to their defaults</td>
</tr>
<tr>
<td><code>\e[1m</code></td>
<td>set bold on</td>
</tr>
<tr>
<td><code>\e[3m</code></td>
<td>set italic on</td>
</tr>
<tr>
<td><code>\e[4m</code></td>
<td>set underline on</td>
</tr>
<tr>
<td><code>\e[7m</code></td>
<td>reverse video</td>
</tr>
<tr>
<td><code>\e[21m</code></td>
<td>set bold off</td>
</tr>
<tr>
<td><code>\e[23m</code></td>
<td>set italic off</td>
</tr>
<tr>
<td><code>\e[24m</code></td>
<td>set underline off</td>
</tr>
<tr>
<td><code>\e[27m</code></td>
<td>set reverse off</td>
</tr>
<tr>
<td><code>\e[nm</code></td>
<td><code>n</code>: foreground color 30 to 37, <code>m</code>:
background color 40 to 47</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">print</span> <span class="st">&quot;String with line\nbreak&quot;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="kw">print</span> <span class="st">&quot;\e[32m\e[47mGreen text on white background&quot;</span></span></code></pre></div>
<p>In the console version of SmallBASIC (sbasic.exe or sbasic) most of
the escape codes, for example <a
href="https://en.wikipedia.org/wiki/ANSI_escape_code">ANSI Codes at
wikipedia</a>, can be used in version 12.25 or later. Support of escape
codes depends on the operating system and the terminal you are
using.</p>
<h2 id="ConstantsVariables">Variables and Constants</h2>
<p>SmallBASIC uses, internally, 4 data-types:</p>
<ul>
<li>Integer (64bit)</li>
<li>Real (64bit)</li>
<li>String (&gt; 2GB)</li>
<li>Array (&gt; 50M elements)</li>
</ul>
<p>However, all user variables (include arrays) are ‘Variant’. That
means the data-type is invisible to users and might change during
runtime. Arrays are always dynamic (size and number of elements), even
if you had declared their size. Conversions between those types are
performed internally. In any case there are functions for the user to do
it manually.</p>
<h3 id="Variable">Variable Names</h3>
<p>Variable names can use any alphanumeric characters, extended
characters (ASCII codes 128 - 255 for non-English languages), the symbol
<code>_</code>, and the symbol <code>$</code>. The first character of
the name cannot be a digit nor <code>$</code>.</p>
<p>The symbol <code>$</code> is supported for compatibility. The dollar
in variable names will be count as part of the name, that means
<code>v</code> and <code>v$</code> are two different variables. It can
be used only as the last character of the name, and only one is
allowed.</p>
<p>Variable names are case-insensitive.</p>
<pre><code>abc, a_c, _bc, ab2c, abc$   -&gt; valid names
1cd, a$b, $abc              -&gt; invalid names</code></pre>
<h3 id="AssigningValuesToVariables">Assigning Values to Variables</h3>
<p>Variables do not need to be declared. A variable will be initialized
with <code>0</code> when used for the first time.</p>
<p>Values are assigned to a variable using the <code>=</code> character.
The value at the right of <code>=</code> will be assigned to the
variable on the left side. Additionally the right side of <code>=</code>
can be an expression or a function.</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>a = <span class="dv">256</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>b = <span class="dv">0x100</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>c = <span class="dv">0o400</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>d = <span class="dv">0b111</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>e = <span class="st">&quot;This is a string&quot;</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>g = <span class="st">&quot;&quot;&quot;This is</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>a <span class="fu">string</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>over several lines</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>with <span class="fu">line</span> breaks<span class="st">&quot;&quot;&quot;</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>h = <span class="dv">1</span> + <span class="dv">1</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>i = h</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>j = <span class="dv">1</span> + h</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>k = <span class="st">&quot;Hello, &quot;</span> + <span class="st">&quot;world&quot;</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>l = k + <span class="st">&quot;!&quot;</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>m = j &gt; h</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>n = h == j</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>o = <span class="fu">sin</span>(<span class="dv">0.5</span>)</span></code></pre></div>
<p>For compatibility reasons, SmallBASIC support the assignment of
values to a variable using the <code>LET</code> command.</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="dt">let</span> x = <span class="dv">20</span></span></code></pre></div>
<h3 id="Constants">Constants</h3>
<p>Constants store values that don’t change during the execution of the
program. Constant variables can be declared by using the keyword
<code>CONST</code>. Assigning a value to a constant a second time will
result in an error.</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="dt">CONST</span> my_pi = <span class="dv">3.14</span></span></code></pre></div>
<p>SmallBASIC predefines the following constants:</p>
<table>
<thead>
<tr>
<th style="text-align: center;">Constant</th>
<th style="text-align: center;">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">PI</td>
<td style="text-align: center;">3.14..</td>
</tr>
<tr>
<td style="text-align: center;">TRUE</td>
<td style="text-align: center;">1</td>
</tr>
<tr>
<td style="text-align: center;">FALSE</td>
<td style="text-align: center;">0</td>
</tr>
<tr>
<td style="text-align: center;">NIL</td>
<td style="text-align: center;">nil (not set)</td>
</tr>
</tbody>
</table>
<h2 id="Arrays">Arrays</h2>
<p>Arrays are used to store sequences of elements. Arrays are always
dynamic. The allowed data-types of the elements can be integers, reals
and strings and maps Data-types can be mixed in an array. Nested arrays
are allowed.</p>
<p>Arrays are a subclass of Matrices (see <a
href="#Matrices">Matrices</a>). They are equivalent to a row vector.</p>
<h3 id="CreatingArrays">Creating Arrays</h3>
<p>Arrays can be created by assignment using the <code>=</code>
operator, with the command <code>DIM</code>, or with
<code>[]</code>.</p>
<p><strong>By Assignment</strong></p>
<p>To assign an array to a variable, the array elements are enclosed by
square brackets <code>[</code> and <code>]</code>. The array elements
are separated by a comma <code>,</code>. If no value for a element is
given, SmallBASIC will set this element to <code>0</code>.</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>A = [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>]</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>A = [,<span class="dv">2</span>,,<span class="dv">4</span>]                       <span class="co">&#39; Equal to A = [0,2,0,4]</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>A = [<span class="dv">1</span>,<span class="st">&quot;A&quot;</span>, <span class="dv">2.2</span>]                  <span class="co">&#39; Array with elements of different data-type</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>A = [<span class="dv">1</span>,<span class="st">&quot;A&quot;</span>, [<span class="dv">2</span>,<span class="dv">3</span>]]                <span class="co">&#39; Creates an nested array</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>S = [<span class="dv">1</span>, <span class="st">&quot;Small&quot;</span>, <span class="st">&quot;BASIC&quot;</span>]         <span class="co">&#39; Numbers and strings</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>M = [{x: <span class="dv">1</span>, y: <span class="dv">2</span>}, {x: <span class="dv">4</span>, y: <span class="dv">7</span>}]  <span class="co">&#39; Array of maps</span></span></code></pre></div>
<p><strong>By DIM</strong></p>
<p>Using the command <code>DIM A(n)</code> or <code>DIM A[n]</code>, an
array <code>A</code> with <code>n + 1</code> elements will be created.
Every element is set to <code>0</code>.</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="dt">DIM</span> A(<span class="dv">3</span>)    <span class="co">&#39; Array A with 4 elements</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="dt">DIM</span> A[<span class="dv">3</span>]</span></code></pre></div>
<p>When using the command <code>DIM A(lower TO upper)</code> it is also
possible, to set the <code>lower</code> and <code>upper</code> element
index of an array.</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; One dimensional array of 7 elements, starting from 3</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; with elements A(3), A(4), ... , A(9)</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="dt">DIM</span> A(<span class="dv">3</span> <span class="kw">TO</span> <span class="dv">9</span>)</span></code></pre></div>
<p><strong>Empty Array</strong></p>
<p>The following example will create an empty array variable. If the
variable already exist, it will be deleted and reinitialized as an
array.</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>A = []</span></code></pre></div>
<h3 id="AccessingElementsOfAnArray">Accessing Elements of an Array</h3>
<p>To access an element of an array, the array name is followed by
<code>(i)</code> or <code>[i]</code>, where <code>i</code> is the
element index. In SmallBASIC using default configuration, the first
element of an array has the index <code>0</code>.</p>
<p>Examples:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>A = [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>]</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="kw">print</span> A(<span class="dv">1</span>)      <span class="co">&#39; Output: 2</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>A[<span class="dv">1</span>] = <span class="dv">5</span>        <span class="co">&#39; A = [1,5,3,4]</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>A(<span class="dv">0</span>) = A(<span class="dv">3</span>)     <span class="co">&#39; A = [4,5,3,4]</span></span></code></pre></div>
<p>Accessing an element outside the bounds of the array will result in
an error.</p>
<h3 id="NestedArrays">Nested Arrays</h3>
<p>In a nested array, one or more elements of this array are arrays.
Nested arrays can be created by assignment with the <code>=</code>
operator. There is no limit to the depth of nesting.</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>A = [[<span class="dv">1</span>,<span class="dv">2</span>] , [<span class="dv">3</span>,<span class="dv">4</span>]]</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>A = [[<span class="dv">1</span>,<span class="dv">2</span>] , [<span class="dv">3</span>, [<span class="dv">4</span>, <span class="dv">5</span>]]]</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>B = [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>C = [<span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>B(<span class="dv">2</span>) = C      <span class="co">&#39; -&gt; B = [1, 2, [4, 5]]</span></span></code></pre></div>
<p>To access an element of a nested array, a second (or third, etc) pair
of parenthesis or square brackets can be used.</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>A = [<span class="dv">1</span>, <span class="dv">2</span>, [<span class="dv">4</span>, <span class="dv">5</span>]]</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="kw">PRINT</span> A[<span class="dv">2</span>][<span class="dv">0</span>]      <span class="co">&#39; Output: 4</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="kw">PRINT</span> A(<span class="dv">2</span>)(<span class="dv">1</span>)      <span class="co">&#39; Output: 5</span></span></code></pre></div>
<h3 id="PackedUnpackedAssignment">Packed/Unpacked Assignment</h3>
<p>An array can be unpacked using the unpack assignment:</p>
<pre><code>(var1,...,varN) = array[element1,...,elementN]</code></pre>
<p>The number of variables must match the number of elements.</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>v = [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>]</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>(x,y,z) = v</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="kw">PRINT</span> x, y, z</span></code></pre></div>
<h3 id="ArrayOperations">Array Operations</h3>
<p>SmallBASIC supports basic array operations using the standard
operators:</p>
<p><strong>Element-wise Addition and Subtraction</strong></p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>A = [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>]</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>B = [<span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>]</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>C = B + A</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>D = A - B</span></code></pre></div>
<p><strong>Element-wise Multiplication</strong></p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>A = [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>]</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>B = [<span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>]</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>C = A * B</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>D = <span class="dv">0.8</span> * A</span></code></pre></div>
<p><strong>Equality</strong></p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>A = [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>]</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>B = [<span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>]</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>e = A==B</span></code></pre></div>
<p><strong>Unary</strong></p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>A = [<span class="dv">5</span>, <span class="dv">6</span>; <span class="dv">7</span>, <span class="dv">8</span>]</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>B = -A</span></code></pre></div>
<p><strong>Append Elements</strong></p>
<p>The pseudo-operator <code>&lt;&lt;</code> can be used to append
elements to an array.</p>
<div class="sourceCode" id="cb24"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>A &lt;&lt; <span class="dv">1</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>A &lt;&lt; <span class="dv">2</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>A &lt;&lt; <span class="dv">3</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="kw">PRINT</span> A(<span class="dv">1</span>)    <span class="co">&#39; Output: 2</span></span></code></pre></div>
<p><strong>IN Operator</strong></p>
<p>When applied to arrays the <code>IN</code> operator returns the 1
based index position of the element, for example:</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>a &lt;&lt; <span class="st">&quot;cat&quot;</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>a &lt;&lt; <span class="st">&quot;dog&quot;</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="kw">PRINT</span> <span class="st">&quot;dog&quot;</span> <span class="kw">IN</span> a      <span class="co">&#39; Output: 2</span></span></code></pre></div>
<h2 id="Matrices">Matrices</h2>
<h3 id="Creating2DMatrices">Creating 2D Matrices</h3>
<p>A 2D matrix can be created by assignment using the <code>=</code>
operator or with the command <code>DIM</code>.</p>
<p><strong>By Assignment</strong></p>
<p>To assign a matrix to a variable, the matrix elements are enclosed by
square brackets <code>[</code> and <code>]</code>. The matrix elements
of one row are separated by <code>,</code> and rows are separated by a
semicolon <code>;</code>. If no value for a element is given, SmallBASIC
will set this element to <code>0</code>.</p>
<p>Examples 1:</p>
<div class="sourceCode" id="cb26"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>M = [<span class="dv">11</span>, <span class="dv">12</span>; <span class="dv">21</span>, <span class="dv">22</span>; <span class="dv">31</span>, <span class="dv">32</span>]</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Creates the 3x2 matrix</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;  11  12</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;  21  22</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;  31  32</span></span></code></pre></div>
<p>Example 2:</p>
<pre><code>M = [ ; ; 1, 2 ; 3, 4, 5]

&#39; Creates the 3x3 matrix
&#39;  0  0  0
&#39;  1  2  0
&#39;  3  4  5</code></pre>
<p><strong>By DIM</strong></p>
<p>Using the command <code>DIM M(n,m)</code> or <code>DIM M[n,m]</code>,
a matrix <code>M</code> with <code>n + 1</code> rows and
<code>m + 1</code> elements per row will be created. Every element is
set to <code>0</code>.</p>
<p>Example:</p>
<div class="sourceCode" id="cb28"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="dt">DIM</span> M(<span class="dv">3</span>,<span class="dv">2</span>)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Creates the 3x4 matrix</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;  0  0  0</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;  0  0  0</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;  0  0  0</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;  0  0  0</span></span></code></pre></div>
<p>When using the command
<code>DIM A(rlower TO rupper, elower TO eupper)</code> it is also
possible, to set the <code>rlower</code> and <code>rupper</code> row
index and <code>elower</code> and <code>eupper</code> element index of a
matrix.</p>
<p>Example:</p>
<div class="sourceCode" id="cb29"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="dt">DIM</span> M(<span class="dv">2</span> <span class="kw">to</span> <span class="dv">4</span>, <span class="dv">3</span> <span class="kw">to</span> <span class="dv">7</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Creates the 5x3 matrix</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;  0  0  0  0  0</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;  0  0  0  0  0</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;  0  0  0  0  0</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; With elements M(2,3) to M(2,7), M(3,3) to M(3,7) and M(4,3) to M(4,7)</span></span></code></pre></div>
<h3 id="AccessingElementsOfA2DMatrix">Accessing Elements of a 2D
Matrix</h3>
<p>To access an element of a matrix, the matrix name is followed by
<code>(row, column)</code> or <code>[row, column]</code>, where
<code>column</code> and <code>row</code> are the coordinates of the
matrix element. In SmallBASIC using default configuration, the first
element of a matrix has the index <code>(0, 0)</code>.</p>
<p>Examples:</p>
<div class="sourceCode" id="cb30"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>M = [<span class="dv">1</span>,<span class="dv">2</span>;<span class="dv">3</span>,<span class="dv">4</span>]</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="kw">print</span> M(<span class="dv">0</span>,<span class="dv">0</span>)      <span class="co">&#39; Output: 1</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>M[<span class="dv">1</span>,<span class="dv">0</span>] = <span class="dv">5</span>        <span class="co">&#39; M = [1,2;5,4]</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>M(<span class="dv">0</span>,<span class="dv">1</span>) = M(<span class="dv">0</span>,<span class="dv">0</span>)   <span class="co">&#39; M = [1,1,5,4]</span></span></code></pre></div>
<p>Accessing an element outside the bounds of the matrix will result in
an error.</p>
<h3 id="MatrixOperations">2D Matrix Operations</h3>
<p>SmallBASIC supports basic matrix operations using the standard
operators:</p>
<p><strong>Addition and Subtraction</strong></p>
<div class="sourceCode" id="cb31"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>A = [<span class="dv">1</span>, <span class="dv">2</span>; <span class="dv">3</span>, <span class="dv">4</span>]</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>B = [<span class="dv">5</span>, <span class="dv">6</span>; <span class="dv">7</span>, <span class="dv">8</span>]</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>C = B + A</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>D = A - B</span></code></pre></div>
<p><strong>Multiplication</strong></p>
<pre><code>A = [1, 2; 3, 4]
B = [5 ; 6]

C = A * B
D = 0.8 * A</code></pre>
<p><strong>Equality</strong></p>
<div class="sourceCode" id="cb33"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>A = [<span class="dv">1</span>, <span class="dv">2</span>; <span class="dv">3</span>, <span class="dv">4</span>]</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>B = [<span class="dv">5</span>, <span class="dv">6</span>; <span class="dv">7</span>, <span class="dv">8</span>]</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>e = A==B</span></code></pre></div>
<p><strong>Unary</strong></p>
<div class="sourceCode" id="cb34"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>A = [<span class="dv">5</span>, <span class="dv">6</span>; <span class="dv">7</span>, <span class="dv">8</span>]</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>B = -A</span></code></pre></div>
<h3 id="HigherDimensionalMatrices">Higher Dimensional Matrices</h3>
<p>Matrices with a dimension higher than two can be created with the
command <code>DIM M(n1, n2, ..., ni)</code>, where <code>n1 + 1</code>
to <code>ni + 1</code> are the number of elements of each dimension. To
access an element, give the coordinates of that element in parenthesis
or square brackets.</p>
<p>Example:</p>
<div class="sourceCode" id="cb35"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="dt">DIM</span> M(<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">3</span>)    <span class="co">&#39; Creates a 3x3x4 3D Matrix</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>M[<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">2</span>] = <span class="dv">5</span></span></code></pre></div>
<p>Equality is the only valid matrix operating for higher dimensional
matrices.</p>
<h3 id="RowAndColumnVectors">Row and Column Vectors</h3>
<p><strong>By Assignment</strong></p>
<p>To create a column vector, separate the elements by
<code>;</code>.</p>
<p>Example:</p>
<div class="sourceCode" id="cb36"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>v = [<span class="dv">1</span>;<span class="dv">2</span>;<span class="dv">3</span>]</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Creates the column vector</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;  1</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;  2</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;  3</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="kw">PRINT</span> v(<span class="dv">1</span>,<span class="dv">0</span>)  <span class="co">&#39; Prints the value of the element in row 2 -&gt; 2</span></span></code></pre></div>
<p><strong>By DIM</strong></p>
<p>The command <code>DIM A(n)</code> creates a row vector with
<code>n+1</code> elements. To create a column vector, use
<code>DIM A(n, 0)</code>. The elements of the column vector can be
access by <code>A(n,0)</code>, where <code>n</code> is the column index
of the element.</p>
<div class="sourceCode" id="cb37"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="dt">DIM</span> A(<span class="dv">2</span>)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Creates a row vector</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; 0  0  0</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="dt">DIM</span> B(<span class="dv">2</span>, <span class="dv">0</span>)</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Creates a column vector</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; 0</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; 0</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; 0</span></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a><span class="kw">PRINT</span> B(<span class="dv">1</span>,<span class="dv">0</span>)  <span class="co">&#39; Prints the value of the element in row 2</span></span></code></pre></div>
<h2 id="Maps">Maps</h2>
<p>Maps are complex data structures with key-value pairs. Elements of a
map are addressed by keys. Allowed data-types are integers, reals,
strings, arrays, maps and references. Elements of different data-types
can be mixed in a map.</p>
<h3 id="CreatingAMapVariable">Creating a Map Variable</h3>
<p>Maps can be created by assignment using the <code>=</code> operator,
with the command <code>ARRAY</code> and with <code>{}</code>.</p>
<p><strong>By Assignment</strong></p>
<p>To assign a map to a variable, key-value pairs are enclosed by curly
brackets <code>{</code> and <code>}</code>. The key-value pairs are
separated by comma <code>,</code>. A key-value pair consist of a key and
a value. Key and value are separated by a colon <code>:</code>. The key
is a string. It is not necessary to enclose the string with quotes. The
value can be any data-type, array, map or reference. The order of
key-value pairs is not relevant for maps.</p>
<p>Additionally, a map variable can be created with the assignment
<code>name.key = value</code>, where <code>name</code> is the name of
the map variable, <code>key</code> is the name of the key and value any
datatype supported by SmallBASIC.</p>
<p>Examples of valid map assignments:</p>
<div class="sourceCode" id="cb38"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>A = {x:<span class="dv">1</span>, y:<span class="dv">2</span>, z:<span class="dv">3</span>}</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>B = {<span class="st">&quot;x&quot;</span>:<span class="dv">1</span>, <span class="st">&quot;y&quot;</span>:<span class="dv">2</span>, <span class="st">&quot;z&quot;</span>:<span class="dv">3</span>}</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>C = {<span class="dv">1</span>:<span class="dv">10</span>, <span class="dv">2</span>:<span class="dv">5</span>, Name: <span class="st">&quot;SmallBASIC&quot;</span>}</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>D = {ArrayData:[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>], MapData:{node:<span class="dv">1</span>, value:<span class="dv">5</span>}}</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>E.x = <span class="dv">1</span></span></code></pre></div>
<p><strong>By ARRAY</strong></p>
<p>Using the command <code>M = ARRAY(JSONString)</code> will create a
map variable from the string <code>JSONString</code>.</p>
<div class="sourceCode" id="cb39"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>M = <span class="kw">ARRAY</span>(<span class="st">&quot;{x:1, y:2, z:3}&quot;</span>)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>s = <span class="st">&quot;{1:10, 2:5, Name:\&quot;</span>SmallBASIC\<span class="st">&quot;}&quot;</span>   <span class="co">&#39; The quotation marks of the string SmallBASIC are escaped with \&quot;</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>M = <span class="kw">ARRAY</span>(s)</span></code></pre></div>
<p><strong>Empty Map</strong></p>
<p>The following example will create an empty map variable. If the
variable already exist, it will be deleted and reinitialized as a
map.</p>
<div class="sourceCode" id="cb40"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>A = {}</span></code></pre></div>
<h3 id="AccessingElementsOfAMapVariable">Accessing Elements of a Map
Variable</h3>
<p>An element of a map variable can be accessed in the following three
ways:</p>
<ol type="1">
<li><code>name.key</code></li>
<li><code>name("key")</code> or <code>name["key"]</code></li>
<li><code>s = "key" : name(s)</code> or
<code>s = "key" : name[s]</code></li>
</ol>
<p>where <code>name</code> is the name of the map variable and
<code>key</code> is the key of the key-value pair. The third option
offers the possibility to access an element using a string-variable as
the key.</p>
<div class="sourceCode" id="cb41"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>A = {x:<span class="dv">1</span>, y:<span class="dv">2</span>, z:<span class="dv">3</span>}</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="kw">print</span> A.x</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="kw">print</span> A(<span class="st">&quot;x&quot;</span>)</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="kw">print</span> A[<span class="st">&quot;x&quot;</span>]</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>A.y = <span class="dv">3</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>A(<span class="st">&quot;y&quot;</span>) = <span class="dv">3</span></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>A[<span class="st">&quot;y&quot;</span>] = <span class="dv">3</span></span></code></pre></div>
<p>To access elements of an array or a matrix inside a map, use
additional parentheses <code>()</code> or square
brackets<code>[]</code>.</p>
<div class="sourceCode" id="cb42"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>A = {x:[<span class="dv">2</span>,<span class="dv">3</span>], y:[<span class="dv">1</span>,<span class="dv">2</span>;<span class="dv">3</span>,<span class="dv">4</span>]}</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="kw">print</span> A.x(<span class="dv">0</span>)        <span class="co">&#39; Output: 2</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="kw">print</span> A.x[<span class="dv">1</span>]        <span class="co">&#39; Output: 3</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="kw">print</span> A.y[<span class="dv">1</span>,<span class="dv">1</span>]      <span class="co">&#39; Output: 4</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>A.x(<span class="dv">0</span>) = <span class="dv">5</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>A.x[<span class="dv">1</span>] = <span class="dv">6</span></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>A.y[<span class="dv">1</span>,<span class="dv">1</span>] = <span class="dv">7</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a><span class="kw">print</span> A             <span class="co">&#39; Output: {&quot;y&quot;:[1,2;3,7],&quot;x&quot;:[5,6]}</span></span></code></pre></div>
<p>To access a nested map variable, use a further <code>.</code> or
<code>("key")</code>. Both notations can be mixed.</p>
<div class="sourceCode" id="cb43"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>A = {x:{a:<span class="dv">1</span>, b:{c:<span class="dv">2</span>}}}</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="kw">print</span> A.x.a             <span class="co">&#39; Output: 1</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="kw">print</span> A.x.b.c           <span class="co">&#39; Output: 2</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="kw">print</span> A(<span class="st">&quot;x&quot;</span>)(<span class="st">&quot;a&quot;</span>)       <span class="co">&#39; Output: 1</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a><span class="kw">print</span> A(<span class="st">&quot;x&quot;</span>)(<span class="st">&quot;b&quot;</span>)(<span class="st">&quot;c&quot;</span>)  <span class="co">&#39; Output: 2</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a><span class="kw">print</span> A(<span class="st">&quot;x&quot;</span>)(<span class="st">&quot;b&quot;</span>).c     <span class="co">&#39; Output: 2</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>A.x.a = <span class="dv">3</span></span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>A.x.b.c = <span class="dv">4</span></span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a><span class="kw">print</span> A                 <span class="co">&#39; Output: {&quot;x&quot;:{&quot;a&quot;:3,&quot;b&quot;:{&quot;c&quot;:4</span><span class="re">}}}</span></span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>A(<span class="st">&quot;x&quot;</span>)(<span class="st">&quot;a&quot;</span>) = <span class="dv">5</span></span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>A(<span class="st">&quot;x&quot;</span>)(<span class="st">&quot;b&quot;</span>)(<span class="st">&quot;c&quot;</span>) = <span class="dv">6</span></span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>A(<span class="st">&quot;x&quot;</span>)(<span class="st">&quot;b&quot;</span>).c = <span class="dv">7</span></span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a><span class="kw">print</span> A                 <span class="co">&#39; Output: {&quot;x&quot;:{&quot;a&quot;:5,&quot;b&quot;:{&quot;c&quot;:7</span><span class="re">}}}</span><span class="co"> </span></span></code></pre></div>
<p>Reading a non-existing element of a map will return <code>0</code>.
Writing to a non-existing element will create a new key-value pair.</p>
<h3 id="AddKeyValuePairs">Add Key-Value Pairs</h3>
<p>Use dot-notation or parenthesis-notation with the <code>=</code>
operator to add a new key-value pair to a map variable.</p>
<div class="sourceCode" id="cb44"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>A = {a:<span class="dv">1</span>, b:<span class="dv">2</span>}</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>A.c = <span class="dv">3</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>A(<span class="st">&quot;d&quot;</span>) = <span class="dv">4</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>A.e = {x:<span class="dv">5</span>, y:<span class="dv">6</span>}</span></code></pre></div>
<h3 id="KeyValuePairsWithReferences">Key-Value Pairs with
References</h3>
<p>The value of a key-value pair can be a reference to a function or
subroutine.</p>
<div class="sourceCode" id="cb45"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>A = {}</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>A.x = <span class="dv">1</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>A.Add = @Add</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>A.PrintBold = @PrintBold</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a><span class="kw">print</span> A     <span class="co">&#39; Output: {&quot;x&quot;:1,&quot;Add&quot;:func,&quot;PrintBold&quot;:func}</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Execute function and subroutine</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a><span class="kw">print</span> A.Add(<span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>A.PrintBold(<span class="st">&quot;Test&quot;</span>)</span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Define function and subroutine</span></span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a><span class="kw">func </span>Add(a,b)</span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> a + b</span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a><span class="kw">sub </span>PrintBold(s)</span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a>    <span class="kw">print</span> <span class="st">&quot;\e[1m&quot;</span>; s; <span class="st">&quot;\e[21m&quot;</span></span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div>
<h3 id="MapsAsPseudoObjectForOOP">Maps as Pseudo Objects for OOP</h3>
<p>Maps in combination with references can be used to create a pseudo
object similar to object-oriented programming.</p>
<div class="sourceCode" id="cb46"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>A = MyAddClass(<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="kw">print</span> A.Add()</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Definitions</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a><span class="kw">func </span>MyAddClass(x,y)</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">local</span> TempMap</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">&#39; Properties</span></span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>    TempMap.x = x</span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>    TempMap.y = y</span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">&#39; Methods</span></span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a>    TempMap.Add = @AddFunction</span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">&#39; Functions and subroutines</span></span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func </span>AddFunction()</span>
<span id="cb46-17"><a href="#cb46-17" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> <span class="dt">self</span>.x + <span class="dt">self</span>.y</span>
<span id="cb46-18"><a href="#cb46-18" aria-hidden="true" tabindex="-1"></a>    <span class="kw">end</span></span>
<span id="cb46-19"><a href="#cb46-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-20"><a href="#cb46-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> TempMap</span>
<span id="cb46-21"><a href="#cb46-21" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div>
<h2 id="Operators">Operators</h2>
<h3 id="SupportedOperators">Supported Operators</h3>
<p>SmallBASIC supports the following operators, sorted by priority:</p>
<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 81%" />
</colgroup>
<thead>
<tr>
<th style="text-align: center;">Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><code>(</code>, <code>)</code></td>
<td>Parenthesis</td>
</tr>
<tr>
<td style="text-align: center;"><code>+</code>, <code>-</code></td>
<td>Unary</td>
</tr>
<tr>
<td style="text-align: center;"><code>~</code></td>
<td>bitwise NOT</td>
</tr>
<tr>
<td style="text-align: center;"><code>NOT</code> or <code>!</code></td>
<td>Logical NOT (NOT false = true)</td>
</tr>
<tr>
<td style="text-align: center;"><code>^</code></td>
<td>Exponentiation</td>
</tr>
<tr>
<td style="text-align: center;"><code>*</code>, <code>/</code>,
<code>\</code></td>
<td>Multiplication, Division, Integer Division</td>
</tr>
<tr>
<td style="text-align: center;"><code>%</code> or <code>MOD</code></td>
<td>Reminder (QB compatible:
<code>a = int(a), b = int(b), a - b*(a/b)</code>)</td>
</tr>
<tr>
<td style="text-align: center;"><code>MDL</code></td>
<td>Modulus (<code>a % b + b*(sgn(a) &lt;&gt; sgn(b))</code>)</td>
</tr>
<tr>
<td style="text-align: center;"><code>+</code>, <code>-</code></td>
<td>Addition/Concatenation, Subtraction</td>
</tr>
<tr>
<td style="text-align: center;"><code>=</code> or <code>==</code></td>
<td>Equal</td>
</tr>
<tr>
<td style="text-align: center;"><code>&lt;&gt;</code> or
<code>!=</code></td>
<td>Not Equal</td>
</tr>
<tr>
<td style="text-align: center;"><code>&gt;</code>,
<code>&lt;</code></td>
<td>Less Than, Greater Than</td>
</tr>
<tr>
<td style="text-align: center;"><code>=&gt;</code>,
<code>=&lt;</code></td>
<td>Less or Equal, Greater or Equal</td>
</tr>
<tr>
<td style="text-align: center;"><code>&gt;=</code>,
<code>&lt;=</code></td>
<td>Less or Equal, Greater or Equal</td>
</tr>
<tr>
<td style="text-align: center;"><code>IN</code></td>
<td>belongs to</td>
</tr>
<tr>
<td style="text-align: center;"><code>LIKE</code></td>
<td>Regular expression match</td>
</tr>
<tr>
<td style="text-align: center;"><code>AND</code> or
<code>&amp;&amp;</code></td>
<td>Logical AND</td>
</tr>
<tr>
<td style="text-align: center;"><code>OR</code> or <code>||</code></td>
<td>Logical OR</td>
</tr>
<tr>
<td style="text-align: center;"><code>BAND</code> or
<code>&amp;</code></td>
<td>bitwise AND</td>
</tr>
<tr>
<td style="text-align: center;"><code>BOR</code> or <code>|</code></td>
<td>bitwise OR</td>
</tr>
<tr>
<td style="text-align: center;"><code>EQV</code></td>
<td>bitwise EQV</td>
</tr>
<tr>
<td style="text-align: center;"><code>IMP</code></td>
<td>bitwise IMP</td>
</tr>
<tr>
<td style="text-align: center;"><code>XOR</code></td>
<td>bitwise XOR</td>
</tr>
<tr>
<td style="text-align: center;"><code>NAND</code></td>
<td>bitwise NAND</td>
</tr>
<tr>
<td style="text-align: center;"><code>NOR</code></td>
<td>bitwise NOR</td>
</tr>
<tr>
<td style="text-align: center;"><code>XNOR</code></td>
<td>bitwise XNOR</td>
</tr>
</tbody>
</table>
<h3 id="PseudoOperators">Pseudo-Operators</h3>
<p>These operators are replaced by the compiler with a command or an
expression.</p>
<p>The <code>++</code> and <code>--</code> operators are used to
increase or decrease the value of a variable by 1.</p>
<div class="sourceCode" id="cb47"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>x = <span class="dv">4</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>x++    <span class="co">&#39; x = x + 1 -&gt; 5</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>x--    <span class="co">&#39; x = x - 1 -&gt; 4</span></span></code></pre></div>
<p>The generic <code>p=</code> operators are used to perform an
operation <code>p</code> on a variable and store the result in the same
variable. <code>p</code> is any character of
<code>-+/\*^%&amp;|</code></p>
<div class="sourceCode" id="cb48"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>x += <span class="dv">4</span>      <span class="co">&#39; x = x + 4</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>x *= <span class="dv">4</span>      <span class="co">&#39; x = x * 4</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>x &amp;= <span class="dv">4</span>      <span class="co">&#39; x = x &amp; 4</span></span></code></pre></div>
<p>All these pseudo-operators are not allowed inside of expressions.</p>
<div class="sourceCode" id="cb49"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>y = x++           <span class="co">&#39; -&gt; ERROR</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>z = (y+=<span class="dv">4</span>) + <span class="dv">5</span>    <span class="co">&#39; -&gt; ERROR</span></span></code></pre></div>
<h2 id="Expressions">Expressions</h2>
<p>Expressions are entities that are evaluated to determine their
values. They are a combination of one or more constants, variables,
functions, and operators. SmallBASIC evaluates an expression and returns
a value. Order of evaluation is left-to-right and inside-out according
to the priority of the operators used in the expression.</p>
<div class="sourceCode" id="cb50"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>a = <span class="dv">1</span> + <span class="dv">1</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>b = <span class="dv">1</span> + a</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>c = <span class="fu">sin</span>(<span class="dt">pi</span>)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>d = <span class="fu">sin</span>(x^<span class="dv">2</span>) + <span class="dv">2</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>e = a <span class="kw">AND</span> b</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>f = a <span class="kw">AND</span> (c <span class="kw">OR</span> d)</span></code></pre></div>
<h2 id="SubroutinesAndFunctions">Subroutines and Functions</h2>
<p>Subroutines and functions are blocks of code separated from the main
program. These routines can be called from the main program or other
subroutines and functions. When calling, program execution will jump to
the start of the routine and execute the code of it. After finishing the
routine, program execution will continue from the position of
calling.</p>
<p>Subroutines and functions can be defined at every position in the
source code. These routines can be nested. If a routine is nested, it
can only be called within the parent routine. Otherwise subroutines and
functions have a global scope.</p>
<h3 id="SubroutinesAndFunctionsNames">Names</h3>
<p>Subroutine and function names can use any alphanumeric characters,
extended characters (ASCII codes 128 - 255 for non-English languages),
and the symbol <code>_</code>. The first character of the name cannot be
a digit.</p>
<p>Subroutine and function names are case-insensitive.</p>
<pre><code>abc(), a_c(), ab2c(), _abc()  -&gt; valid names
1cd(), a$b()                  -&gt; invalid names</code></pre>
<p>Subroutines and functions can not have the same name as build-in
commands.</p>
<h3 id="DeclarationOfSubroutines">Declaration of Subroutines</h3>
<div class="sourceCode" id="cb52"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SUB </span>name</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">&#39; subroutine code here</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="kw">END</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="kw">SUB </span>name()</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">&#39; subroutine code here</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a><span class="kw">END</span></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a><span class="kw">SUB </span>name par1, ..., parN</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>  <span class="co">&#39; subroutine code here</span></span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a><span class="kw">END</span></span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a><span class="kw">SUB </span>name (par1, ..., parN)</span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>  <span class="co">&#39; subroutine code here</span></span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a><span class="kw">END</span></span></code></pre></div>
<p>The definition of a subroutine starts with the keyword
<code>SUB</code> and ends with the keyword <code>END</code>. It has a
name <code>name</code>, can have parameters <code>par1</code> to
<code>parN</code> and does not return a value. The parameters are
separated with a comma <code>,</code>. The parameters can be optionally
enclosed by parentheses.</p>
<h3 id="DeclarationOfFunctions">Declaration of Functions</h3>
<div class="sourceCode" id="cb53"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="kw">FUNC </span>name</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">&#39; function code here</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">RETURN</span> value</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="kw">END</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a><span class="kw">FUNC </span>name()</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>  <span class="co">&#39; function code here</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>  name = value</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a><span class="kw">END</span></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a><span class="kw">FUNC </span>name par1, ..., parN</span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>  <span class="co">&#39; function code here</span></span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>  <span class="kw">RETURN</span> value</span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a><span class="kw">END</span></span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a><span class="kw">FUNC </span>name (par1, ..., parN)</span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>  <span class="co">&#39; function code here</span></span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>  name = value</span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a><span class="kw">END</span></span></code></pre></div>
<p>The definition of a function starts with the keyword
<code>FUNC</code> and ends with the keyword <code>END</code>. It has a
name <code>name</code>, can have parameters <code>par1</code> to
<code>parN</code> and must return a value <code>value</code>. The
parameters are separated with a comma <code>,</code>. The parameters can
be optionally enclosed by parentheses. To return a value, the keyword
<code>RETURN</code> can be used or the assignment of a value to the
function name. If <code>RETURN</code> is used, execution of the function
will immediately stop, even if there are further commands until
<code>END</code>.</p>
<div class="sourceCode" id="cb54"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="kw">FUNC </span>MyFunction()</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>    i = <span class="dv">1</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">Return</span> i</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>    i = <span class="dv">2</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">Return</span> i</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a><span class="kw">print</span> MyFunction()  <span class="co">&#39; Output: 1</span></span></code></pre></div>
<div class="sourceCode" id="cb55"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="kw">FUNC </span>MyFunction()</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>    i = <span class="dv">1</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>    MyFunction = i</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>    i = <span class="dv">2</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>    MyFunction = i</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a><span class="kw">print</span> MyFunction()  <span class="co">&#39; Output: 2</span></span></code></pre></div>
<h3 id="Parameters">Parameters</h3>
<p><strong>Using Parameters</strong></p>
<p>To use a parameters inside a function or subroutine, address the
parameter by the name given in the routine declaration.</p>
<div class="sourceCode" id="cb56"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="kw">FUNC </span>AddNumbers(a, b)</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  c = a + b</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">RETURN</span> c</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a><span class="kw">END</span></span></code></pre></div>
<p><strong>By-Value and By-Reference</strong></p>
<p>Parameters are ‘by value’ by default. Passing parameters by value
means, that the function or subroutine receives a copy of the
parameters.</p>
<p>When using the keyword <code>BYREF</code> or the symbol
<code>@</code> in the routine declaration before the parameter, a
reference (pointer) to the parameter will be passed to the routine.
‘by-reference’ parameters can be used to return values from a subroutine
or function, because the variable in the calling subroutine or function
will be changed.</p>
<p>Passing array or map parameters as references will not result in
creating a copy of the parameters in RAM. Thus, program execution will
be faster and RAM will be saved.</p>
<div class="sourceCode" id="cb57"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Passing the parameter by value</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SUB </span>F(a)</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  a = <span class="dv">1</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="kw">END</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>x = <span class="dv">2</span></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>F(x)</span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a><span class="kw">PRINT</span> x   <span class="co">&#39; Output 2</span></span></code></pre></div>
<div class="sourceCode" id="cb58"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Passing the parameter by reference</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SUB </span>F(<span class="dt">BYREF</span> a)</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  a = <span class="dv">1</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="kw">END</span></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>x = <span class="dv">2</span></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>F(x)</span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a><span class="kw">PRINT</span> x    <span class="co">&#39; Output 1</span></span></code></pre></div>
<h3 id="ExitAFunctionOrSubroutine">Exit a Function or Subroutine</h3>
<p>Functions can be exited using <code>RETURN expression</code>, where
<code>expression</code> is an expression to be evaluated. The evaluated
value of the expression will be returned by the function. Alternatively
the keywords <code>EXIT FUNC</code> can be used. In this case the return
value of the function will be <code>0</code>. All commands following
<code>RETURN expression</code> or <code>EXIT FUNC</code> will not be
executed.</p>
<p>Subroutines can be exited using the keywords <code>EXIT SUB</code>.
All commands following <code>EXIT SUB</code> will not be executed.</p>
<h3 id="SingleLineFunctions">Single-Line Functions</h3>
<pre><code>FUNC name(par1, ..., parN) = expression
DEF  name(par1, ..., parN) = expression</code></pre>
<p><code>FUNC</code> and <code>DEF</code> can be used to declare
single-line functions. Declaration starts with the keyword
<code>FUNC</code> or <code>DEF</code>, followed by the name of the
routine. The parameter list must be enclosed by parentheses. After the
closing parentheses an expression is assigned to the routine using the
<code>=</code> operator.</p>
<div class="sourceCode" id="cb60"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="kw">DEF</span> MyFunc(x) = <span class="fu">SIN</span>(x) + <span class="fu">COS</span>(x)</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="kw">PRINT</span> MyFunc(<span class="dt">PI</span>/<span class="dv">2</span>)</span></code></pre></div>
<h3 id="LogicalExpressionShortCircuitEvaluation">Logical expression
short-circuit evaluation</h3>
<p>In the code fragment below, if A and B are both functions and the A
function returns <code>TRUE</code>, then the B function is not called
since the expression outcome will still be the same, the expression will
evaluate to TRUE.</p>
<div class="sourceCode" id="cb61"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="kw">IF </span>(A <span class="kw">OR</span> B) ...</span></code></pre></div>
<p>In the next code fragment, if C and D are both functions and the C
function returns FALSE, then the D function is not called since the
expression outcome will still be the same, the expression will evaluate
to FALSE.</p>
<div class="sourceCode" id="cb62"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="kw">IF </span>(C <span class="kw">AND</span> D) ...</span></code></pre></div>
<h3 id="UsingLocalVariables">Using Local Variables</h3>
<p>Variable are by default global variables. Global variables are
accessible anywhere in the program. A usual problem is that a variable
name may be used again in a function or subroutine:</p>
<div class="sourceCode" id="cb63"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="kw">FOR </span>i = <span class="dv">1</span> <span class="kw">TO</span> <span class="dv">10</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  a = F(i)</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">PRINT</span> i</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a><span class="kw">NEXT</span></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a><span class="kw">FUNC </span>F(x)</span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">FOR </span>i = <span class="dv">1</span> <span class="kw">TO</span> <span class="dv">6</span></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">NEXT </span> </span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">RETURN</span> x</span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a><span class="kw">END</span></span></code></pre></div>
<p>In this example, the result is a real mess, because the variable
<code>i</code> of the main loop will always (except the first time) have
the value 7 and the program will run endless! This problem can be solved
by using the keyword <code>LOCAL</code> to declare the variable in the
function body.</p>
<div class="sourceCode" id="cb64"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="kw">FOR </span>i = <span class="dv">1</span> <span class="kw">TO</span> <span class="dv">10</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>    a = F(i)</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">PRINT</span> i</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a><span class="kw">NEXT</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a><span class="kw">FUNC </span>F(x)</span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">LOCAL</span> i</span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">FOR </span>i = <span class="dv">1</span> <span class="kw">TO</span> <span class="dv">6</span></span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">NEXT </span> </span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">RETURN</span> x</span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a><span class="kw">END</span></span></code></pre></div>
<p>It is good practice to declare all local variables on the top of the
routine. For compatibility reasons, the function and subroutine
variables are not declared as ‘local’ by default.</p>
<p>Local variable can be declared and assigned on the same line:</p>
<div class="sourceCode" id="cb65"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="dt">LOCAL</span> foo = <span class="st">&quot;foo&quot;</span></span></code></pre></div>
<h3 id="NestedRoutines">Nested Routines</h3>
<p>Nested subroutines and Functions are allowed in SmallBASIC. Nested
subroutines and functions are visible only inside the parent routine.
There is no way to access a global routine with the same name of a local
routine.</p>
<div class="sourceCode" id="cb66"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="kw">FUNC </span>f1(x)              <span class="co">&#39; f1 </span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">FUNC </span>f2(x)          <span class="co">&#39; f2 nested in f1</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>        <span class="kw">FUNC </span>f3(x)      <span class="co">&#39; f3 nested in f2</span></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>            f3 = <span class="fu">cos</span>(x)</span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>        <span class="kw">END</span></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>        f2 = f3(x)/<span class="dv">4</span></span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">END</span></span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">FUNC </span>f4             <span class="co">&#39; f4 nested in f1</span></span>
<span id="cb66-11"><a href="#cb66-11" aria-hidden="true" tabindex="-1"></a>        f4 = f2(<span class="dt">pi</span>/<span class="dv">2</span>)   <span class="co">&#39; f2 is visible for f4</span></span>
<span id="cb66-12"><a href="#cb66-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">END</span></span>
<span id="cb66-13"><a href="#cb66-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-14"><a href="#cb66-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">PRINT</span> f2(<span class="dt">pi</span>)        <span class="co">&#39; Calling f2 inside f1 is valid</span></span>
<span id="cb66-15"><a href="#cb66-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">&#39;PRINT f3(pi)       &#39; Calling f3 inside f1 is invalid,</span></span>
<span id="cb66-16"><a href="#cb66-16" aria-hidden="true" tabindex="-1"></a>                        <span class="co">&#39; because f3 is only visible to f2</span></span>
<span id="cb66-17"><a href="#cb66-17" aria-hidden="true" tabindex="-1"></a><span class="kw">END</span></span></code></pre></div>
<h3 id="FunctionAndRoutinePointers">Function and Routine Pointers</h3>
<p>The <code>@</code> operator can be used to obtain the address of a
routine or a function. The <code>CALL</code> command is then used to
invoke the routine or function pointed to by the pointer variable.</p>
<div class="sourceCode" id="cb67"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="kw">FUNC </span>foo(s)</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a> foo=<span class="st">&quot;foo!&quot;</span>+s</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="kw">END</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a><span class="kw">SUB </span>bar</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a> <span class="kw">PRINT</span> <span class="st">&quot;in bar&quot;</span></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a><span class="kw">END</span></span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>p = @foo</span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a><span class="kw">PRINT</span> <span class="fu">CALL</span>(@foo, <span class="st">&quot;#&quot;</span>)</span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a><span class="kw">PRINT</span> <span class="fu">CALL</span>(p, <span class="st">&quot;%&quot;</span>)</span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>pb = @bar</span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a><span class="fu">CALL</span> pb</span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a><span class="fu">CALL</span> @bar</span></code></pre></div>
<h3 id="DeclarationsInPalmOS">Declarations in PalmOS</h3>
<p>On a multi-section (PalmOS) applications subroutines and functions
need to be declared in the main section.</p>
<div class="sourceCode" id="cb68"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sec</span>:Main</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="kw">declare</span> <span class="kw">func </span>f(x)</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="cn">#sec</span>:another section</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a><span class="kw">func </span>f(x)</span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">&#39; function code</span></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div>
<h2 id="Loops">Loops</h2>
<p>Loops are used to repeatably execute commands until a stop condition
is reached. Inside a loop an unlimited amount of program lines can be
placed. Loops can be nested and subroutines, functions and all build-in
commands can be used.</p>
<h3 id="ForToNextLoop">FOR-TO-NEXT Loop</h3>
<p>A FOR-TO-NEXT-loop will continue until an index variable goes beyond
a defined stop value. In the last loop, the index variable is set to the
defined stop value. The index variable is updated automatically every
cycle. The syntax of a FOR-TO-NEXT-loop is:</p>
<div class="sourceCode" id="cb69"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="kw">FOR </span>Index = StartExpr <span class="kw">TO</span> StopExpr STEP StepSize</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">&#39; some code</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="kw">NEXT</span></span></code></pre></div>
<p>Where <code>Index</code> is the automatically updates index variable,
<code>StartExpr</code> and <code>StopExpr</code> are expressions
defining the start and stop value, and <code>StepSize</code> is an
expression defining the step size of the FOR-loop. The FOR-loop ends
with the Keyword <code>NEXT</code>.</p>
<p>The expressions <code>Start</code>, <code>Stop</code> and
<code>StepSize</code> are evaluated every cycle. It is allowed that
these expressions change their value every cycle, i.e. they are changed
inside the FOR-loop. To speed up a FOR-loop these expressions should be
pre-calculated and assigned to variables, which are used in the
loop.</p>
<p>Defining a step size is optional. If <code>STEP</code> is not used,
the step size is set to <code>1</code>.</p>
<div class="sourceCode" id="cb70"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="kw">FOR </span>i = <span class="dv">6</span> <span class="kw">to</span> <span class="dv">1</span> STEP -<span class="dv">2</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">PRINT</span> i</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a><span class="kw">NEXT</span></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Output: 6,4,2</span></span></code></pre></div>
<p>The index variable after the end of the loop has a value
larger/smaller than the stop condition, depending on the step size.</p>
<p>Use <code>EXIT</code> or in case of nested loops
<code>EXIT FOR</code> to end the loop before the stop condition is
reached.</p>
<h3 id="ForInNextLoop">FOR-IN-NEXT loop</h3>
<p>A FOR-IN-NEXT loop loops until the last element of an array or map is
reached. In every cycle the index variable is updated with the next
value of the array or map. The array or map variable can change value
and/or number of elements.</p>
<div class="sourceCode" id="cb71"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>a =  [<span class="dv">12</span>, <span class="dv">6</span>, <span class="dv">23</span>, -<span class="dv">4</span>]</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FOR </span>index <span class="kw">IN</span> a</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">PRINT</span> index</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a><span class="kw">NEXT</span></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Output 12 6 23 -4</span></span></code></pre></div>
<p>The FOR-IN-NEXT loop also loops until the last character of a string
is reached.</p>
<div class="sourceCode" id="cb72"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>s = <span class="st">&quot;Test&quot;</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FOR </span>index <span class="kw">IN</span> s <span class="kw">DO</span> <span class="kw">PRINT</span> index</span></code></pre></div>
<p>The index variable is only a copy of the array element. Changing the
content of the index variable will not change the content of the array
element.</p>
<p>Use <code>EXIT</code> or in case of nested loops
<code>EXIT FOR</code> to end the loop before the last element is
reached.</p>
<h3 id="WhileWendLoop">WHILE-WEND Loop</h3>
<p>A WHILE-WEND loop continues executing as long as the expression
<code>Expression</code> evaluates to <code>true</code>.</p>
<div class="sourceCode" id="cb73"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="kw">WHILE </span>Expression</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">&#39; some code</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WEND</span></span></code></pre></div>
<p>If <code>Expression</code> evaluates to <code>false</code> when
starting the loop for the first time, the loop will not be entered and
the code inside the loop will not be executed.</p>
<div class="sourceCode" id="cb74"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="kw">WHILE </span>index &lt; <span class="dv">10</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>  index++</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">PRINT</span> index</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WEND</span></span></code></pre></div>
<p>Use <code>EXIT</code> or in case of nested loops
<code>EXIT LOOP</code> to exit the loop.</p>
<h3 id="RepeatUntilLoop">REPEAT-UNTIL Loop</h3>
<p>A REPEAT-UNTIL loop continues executing until the expression
<code>Expression</code> evaluates to <code>true</code>. The code inside
the loop will be executed at least one time.</p>
<div class="sourceCode" id="cb75"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="kw">REPEAT</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">&#39; some code</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a><span class="kw">UNTIL </span>Expression</span></code></pre></div>
<div class="sourceCode" id="cb76"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="kw">REPEAT</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>  index++</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">PRINT</span> index</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a><span class="kw">UNTIL </span>index &gt; <span class="dv">10</span></span></code></pre></div>
<p>Use <code>EXIT</code> or in case of nested loops
<code>EXIT LOOP</code> to exit the loop.</p>
<h3 id="TheDoKeyword">The DO Keyword</h3>
<p>This keyword is used to declare single-line commands. It can be used
with <code>WHILE</code> and <code>FOR</code>-family loops.</p>
<div class="sourceCode" id="cb77"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="kw">FOR </span>i = <span class="dv">1</span> <span class="kw">to</span> <span class="dv">10</span> <span class="kw">DO</span> <span class="kw">PRINT</span> i</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FOR </span>f <span class="kw">IN</span> <span class="fu">files</span>(<span class="st">&quot;*.txt&quot;</span>) <span class="kw">DO</span> <span class="kw">PRINT</span> f</span></code></pre></div>
<div class="sourceCode" id="cb78"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="kw">WHILE </span>i &lt; <span class="dv">4</span> <span class="kw">DO</span> i++</span></code></pre></div>
<h2 id="Conditions">Conditions</h2>
<p>Conditions can be used to branch the program flow depending on the
value of expressions.</p>
<h3 id="IfThenElseifEndif">IF-THEN-ELSIF-ELSE</h3>
<div class="sourceCode" id="cb79"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="kw">IF </span>expression1 <span class="kw">THEN</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">&#39; some code</span></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a><span class="kw">ELSEIF</span> expression2 <span class="kw">THEN</span></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">&#39; some code</span></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a><span class="kw">ELSE</span></span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">&#39; some code</span></span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a><span class="kw">ENDIF</span></span></code></pre></div>
<p>IF-THEN_ELSEIF-ELSE causes SmallBASIC to make a decision based on the
value of an expression. <code>expression1</code> and
<code>expression2</code> are expressions, which will be evaluated.
<code>0</code> is equivalent to <code>FALSE</code>, while all other
values are equivalent to <code>TRUE</code>.</p>
<p>Each expression in the IF/ELSEIF construct is tested in order. As
soon as an expression is found to be <code>TRUE</code>, then its
corresponding commands are executed. If none of the expressions are
<code>TRUE</code>, then the commands following the <code>ELSE</code>
keyword are executed. If <code>ELSE</code> is not specified, then
execution continues with the command following <code>ENDIF</code>. More
then one <code>ELSEIF</code> is allowed.</p>
<p><code>IF</code>, <code>ELSE</code>, <code>ELSEIF</code>, and
<code>ENDIF</code> must all be the first keywords on their respective
lines. <code>THEN</code> is optional, but if its used it must be the
last keyword on its line. If anything other than a comment follows
<code>THEN</code> on the same line, SmallBASIC interprets it as a
single-line IF-THEN-ELSE construct. IF blocks may be nested.</p>
<p>Instead of <code>ELSEIF</code> and <code>ENDIF</code>,
<code>ELIF</code> and <code>FI</code> can be used. Instead of
<code>THEN</code>, <code>DO</code> can be used, but this is not
suggested.</p>
<h3 id="SingleLineIfThenElse">Single-Line IF-THEN-ELSE</h3>
<div class="sourceCode" id="cb80"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="kw">IF </span>expression <span class="kw">THEN co</span>mmand1 <span class="kw">ELSE</span> command2</span></code></pre></div>
<p>Single-line IF-THEN-ELSE causes SmallBASIC to make a decision based
on the value of an expression <code>expression</code>. <code>0</code> is
equivalent to <code>FALSE</code>, while all other values are equivalent
to <code>TRUE</code>. <code>command1</code> and <code>comannd2</code>
are any legal commands. Multiple commands can be separated by a colon
<code>:</code>. If instead of a command a number is specified, it is
equivalent to a GOTO command with the specified numeric-label.</p>
<h3 id="InlineVersionOfIf">Inline Version of IF</h3>
<div class="sourceCode" id="cb81"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>result = <span class="kw">IF </span>(condition, return_value_true, return_value_false)</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>result = <span class="kw">IFF</span> (condition, return_value_true, return_value_false)</span></code></pre></div>
<p>The functions <code>IF</code> and <code>IFF</code> will test the
condition <code>condition</code>. If <code>condition</code> resolves to
<code>true</code> then <code>return_value_true</code> will be returned
otherwise <code>return_value_false</code>.</p>
<div class="sourceCode" id="cb82"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>x = <span class="dv">4</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>ans = <span class="kw">IFF</span>(x &lt;= <span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">10</span>)</span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="kw">PRINT</span> ans           <span class="co">&#39; Output: 0</span></span></code></pre></div>
<p>If <code>IF</code> is used with one parameter, the normal
IF-statement is used.</p>
<p>See function reference <a
href="https://smallbasic.github.io/reference/638.html">IFF</a> for more
information.</p>
<h3 id="SelectCase">SELECT CASE</h3>
<div class="sourceCode" id="cb83"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT CASE </span>expr</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">CASE</span> result1</span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">&#39; do thinks</span></span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">CASE</span> result2</span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">&#39; do thinks</span></span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">CASE</span> <span class="kw">ELSE</span></span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">&#39; do thinks</span></span>
<span id="cb83-8"><a href="#cb83-8" aria-hidden="true" tabindex="-1"></a><span class="kw">END SELECT</span></span></code></pre></div>
<p><code>SELECT CASE</code> offers a more concise syntax to writing
successive IF tests. <code>SELECT CASE</code> performs multiple tests on
the expression <code>expr</code>. If the value of <code>expr</code> is
equal to <code>result1</code>, the case statement <code>result1</code>
will be entered and the commands executed. An unlimited amount of case
statements can be used. Once a case statement is fulfilled the
select-case structure will be exited and all following case statements
will not be tested anymore. If non of the case statements were entered
the optional ‘CASE ELSE’ statements will be entered.</p>
<p>See function reference <a href="/reference/655.html">SELECT CASE</a>
for detailed information.</p>
<h2 id="Units">Units</h2>
<p>Units are a set of subroutines, functions and/or variables that can
be used by another SmallBASIC program or SmallBASIC unit. An unit has
its own namespace and therefore is independent of the program code.
Every unit is saved in a separate file with the extension
<code>.bas</code>. A unit source file can only contain one unit. Unit
name must be identical to the file name, but without the
<code>.bas</code> extension.</p>
<h3 id="UnitsDeclaration">Declaration</h3>
<p>An unit is declared by the use of the <code>UNIT</code> keyword
followed by the name of the unit as the first command in the unit source
file. The functions, subroutines and/or variables which should be
accessible by another programs must be declared with the
<code>EXPORT</code> keyword and defined in the unit source file.</p>
<div class="sourceCode" id="cb84"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="pp">UNIT</span> MyUnitName</span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a><span class="pp">EXPORT</span> MyFunction</span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a><span class="kw">FUNC </span>MyFuntion(x)</span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">&#39; some code</span></span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a><span class="kw">END</span></span></code></pre></div>
<p>Function, subroutines or variables which are not exported can only be
used inside the unit source file.</p>
<h3 id="UnitsImport">Import</h3>
<p>To import an unit in a program use the <code>IMPORT</code> keyword
followed by the unit name without the <code>.bas</code> extension. The
namespace is identical to the unit name. If a different namespace is
required specify the new namespace using
<code>IMPORT UnitName AS NameSpace</code>.</p>
<p>To access a member of a unit use the namespace followed by a point
and the name of the member.</p>
<div class="sourceCode" id="cb85"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="pp">IMPORT</span> MyUnit</span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>MyUnit.MyFunction(<span class="dv">1</span>)</span></code></pre></div>
<div class="sourceCode" id="cb86"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="pp">IMPORT</span> MyUnit <span class="kw">as</span> u</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>u.MyFunction(<span class="dv">1</span>)</span></code></pre></div>
<h3 id="NamePathing">Name Pathing</h3>
<p>Units have the ability to include a path component in a unit
name.</p>
<div class="sourceCode" id="cb87"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="pp">import</span> other.something.foo</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>? foo.my_var</span></code></pre></div>
<p>Then in the <code>foo.bas</code> file:</p>
<div class="sourceCode" id="cb88"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="pp">Unit</span> other.something.Foo</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="pp">export</span> my_var</span></code></pre></div>
<p>The unit file would be saved in
<code>$UNITPATH/other/something</code>. If not defined,
<code>$UNITPATH</code> is inferred from the host program directory.</p>
<h2 id="TheUseKeyword">The USE Keyword</h2>
<p>The <code>USE</code> keyword is used on specific commands for passing
a user-defined expression.</p>
<div class="sourceCode" id="cb89"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>SPLIT s,<span class="st">&quot; &quot;</span>,v <span class="kw">USE</span> <span class="fu">TRIM</span>(x)</span></code></pre></div>
<p>In this example, every element of <code>v</code> will be trimmed. Use
the <code>x</code> variable to specify the parameter of the expression.
If the expression needs more parameter, you can use also the names
<code>y</code> and <code>z</code>.</p>
<h2 id="InputAndOutput">Input and Output</h2>
<h3 id="PrintOnScreen">Print on Screen</h3>
<p>Use <code>PRINT</code> to print text on the screen at the current
cursor location. When starting the BASIC program, the cursor is in the
top left corner. After printing to the screen the cursor location will
be updated. After execution of <code>PRINT</code>, if not otherwise
specified, the cursor will be moved to the beginning of the next line.
When printing to the last line of the screen, the screen will scroll up
by one line.</p>
<p>Basic usage of <code>PRINT</code>:</p>
<div class="sourceCode" id="cb90"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="kw">PRINT</span> <span class="dv">1</span>                             <span class="co">&#39; Output: 1</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="kw">PRINT</span> <span class="dv">1</span>+<span class="dv">1</span>                           <span class="co">&#39; Output: 2</span></span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a><span class="kw">PRINT</span> <span class="fu">cos</span>(<span class="dt">pi</span>)                       <span class="co">&#39; Output: -1</span></span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a><span class="kw">PRINT</span> <span class="st">&quot;Text&quot;</span>                        <span class="co">&#39; Output: Text</span></span></code></pre></div>
<p>If <code>;</code> or <code>,</code> are used as last character of a
print command, carriage return/line feed (new line) will be suppressed
after printing.</p>
<p>Please read the language reference of <a
href="/reference/535.html">PRINT</a> for a detailed description. The
text cursor can be set using <a
href="/reference/530.html">LOCATE</a>.</p>
<h3 id="ReadInputFromKeyboard">Read Input from the Keyboard</h3>
<p><code>INPUT</code> reads text from keyboard and stores it in a
variable. <code>INPUT</code> can print a prompt on screen. After
execution of <code>INPUT</code> the cursor will be moved to the
beginning of the next line. <code>INPUT</code> will block execution of
the program until the return-key is pressed.</p>
<p>Basic usage of <code>INPUT</code>:</p>
<div class="sourceCode" id="cb91"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="kw">INPUT</span> <span class="st">&quot;How old are you?&quot;</span>, age</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="kw">PRINT</span> age</span></code></pre></div>
<p>For more information see language reference of <a
href="/reference/527.html">INPUT</a>. <a
href="/reference/539.html">INKEY</a> and <a
href="/reference/1015.html">DEFINEKEY</a> allow to read from a keyboard
without blocking the execution of the program.</p>
<h3 id="DrawGraphicsOnScreen">Draw Graphics on Screen</h3>
<p>In SmallBASIC graphics and text can be mixed on the same screen. The
graphics screen consist of pixels. In standard configuration the
top-left pixel has the coordinate <code>[0,0]</code>. The pixel left of
<code>[0,0]</code> has the coordinate <code>[1,0]</code>. The pixel
below <code>[0,0]</code> has the coordinate <code>[0,1]</code>. The
bottom-right pixel has the coordinate given by the size of the window
minus one. For a window size of 640 pixel in x- and 480 pixel in
y-direction, the bottom-right pixel would have the coordinate
<code>[639,479]</code>.</p>
<p>A color can be assigned to every pixel. SmallBASIC supports two ways
to specify a color. The easy way is to pick a color from a build in
color palette of 16 colors by specifying the corresponding color index
as listed in the following table.</p>
<table>
<thead>
<tr>
<th style="text-align: center;">Index</th>
<th style="text-align: left;">Color</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">0</td>
<td style="text-align: left;"><font style='color:#000000'>█</font>
black</td>
</tr>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: left;"><font style='color:#000080'>█</font>
blue</td>
</tr>
<tr>
<td style="text-align: center;">2</td>
<td style="text-align: left;"><font style='color:#008000'>█</font>
green</td>
</tr>
<tr>
<td style="text-align: center;">3</td>
<td style="text-align: left;"><font style='color:#008080'>█</font>
cyan</td>
</tr>
<tr>
<td style="text-align: center;">4</td>
<td style="text-align: left;"><font style='color:#800000'>█</font>
red</td>
</tr>
<tr>
<td style="text-align: center;">5</td>
<td style="text-align: left;"><font style='color:#800080'>█</font>
magenta</td>
</tr>
<tr>
<td style="text-align: center;">6</td>
<td style="text-align: left;"><font style='color:#808000'>█</font>
yellow</td>
</tr>
<tr>
<td style="text-align: center;">7</td>
<td style="text-align: left;"><font style='color:#c0c0c0'>█</font>
white</td>
</tr>
<tr>
<td style="text-align: center;">8</td>
<td style="text-align: left;"><font style='color:#808080'>█</font>
gray</td>
</tr>
<tr>
<td style="text-align: center;">9</td>
<td style="text-align: left;"><font style='color:#0000ff'>█</font>
bright blue</td>
</tr>
<tr>
<td style="text-align: center;">10</td>
<td style="text-align: left;"><font style='color:#00ff00'>█</font>
bright green</td>
</tr>
<tr>
<td style="text-align: center;">11</td>
<td style="text-align: left;"><font style='color:#00ffff'>█</font>
bright cyan</td>
</tr>
<tr>
<td style="text-align: center;">12</td>
<td style="text-align: left;"><font style='color:#ff0000'>█</font>
bright red</td>
</tr>
<tr>
<td style="text-align: center;">13</td>
<td style="text-align: left;"><font style='color:#ff00ff'>█</font>
bright magenta</td>
</tr>
<tr>
<td style="text-align: center;">14</td>
<td style="text-align: left;"><font style='color:#ffff00'>█</font>
bright yellow</td>
</tr>
<tr>
<td style="text-align: center;">15</td>
<td style="text-align: left;"><font style='color:#ffffff'>█</font>
bright white</td>
</tr>
</tbody>
</table>
<p>A slightly more complicated way is to compose a color by defining the
red, green and blue component of the color using the command
<code>RGB(r, g, b)</code>. Every color component has a value from 0 to
255. To assign a color for the next drawing command use the command
<code>COLOR foreground, background</code>. <code>foreground</code> and
<code>background</code> are either a color index from 0 to 15 or the
return value of the command <code>RGB</code>.</p>
<p>SmallBASIC support a variety of basic drawing routines, like draw a
point, a line or a rectangle.</p>
<p>The following example sets colors and draws a line and a
rectangle.</p>
<div class="sourceCode" id="cb92"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">COLOR</span> <span class="dv">15</span>,<span class="dv">0</span>             <span class="co">&#39; set foregound and background color using a color index</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="fu">CLS</span>                    <span class="co">&#39; clear the screen using the background color</span></span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a><span class="fu">LINE</span> <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">50</span>,<span class="dv">50</span>         <span class="co">&#39; draw a line</span></span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a><span class="fu">COLOR</span> <span class="fu">RGB</span>(<span class="dv">128</span>,<span class="dv">45</span>,<span class="dv">200</span>)  <span class="co">&#39; set foreground color using RGB values</span></span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a><span class="fu">RECT</span> <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">50</span>,<span class="dv">50</span>         <span class="co">&#39; draw a rectangle</span></span></code></pre></div>
<p>To specify “world” coordinates for the screen use the command
<code>WINDOW(x1,x2,y2,y1)</code>. <code>WINDOW</code> allows you to
redefine the corners of the display screen as a pair of “world”
coordinates. The coordinates of the upper-left corner of the screen is
given by [x1, y1], the lower-left corner by [x2, y2]. The world space
defined by WINDOW is disabled by a WINDOW command without
parameters.</p>
<p><code>VIEW(x1,y1,x2,y2)</code> defines a viewport with starting point
(upper left corner)) [x1,y1] and end point (lower right corner) [x2,y2].
Drawing outside the viewport is not possible.</p>
<p>The <code>WINDOW</code> command can be used to setup several
additional window parameters or to display GUI elements, for
example:</p>
<div class="sourceCode" id="cb93"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Display an alert</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>w = <span class="fu">window</span>()</span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>w.alert(<span class="st">&quot;This is an alert&quot;</span>, <span class="st">&quot;title&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb94"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>w = <span class="fu">window</span>()</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>w.setLocation(<span class="dv">100</span>, <span class="dv">100</span>)   <span class="co">&#39; Set window screen location </span></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>w.setSize(<span class="dv">800</span>, <span class="dv">680</span>)       <span class="co">&#39; Set window size</span></span></code></pre></div>
<p>For more information about graphics commands please see <a
href="/pages/graphics.html">Graphics</a>.</p>
<h2 id="BasicFileReadAndWrite">Basic File Read and Write</h2>
<p>SmallBASIC supports various commands to read and write a file. Best
suited for beginners are <code>PRINT</code> and <code>INPUT</code>.
<code>PRINT</code> writes to a file in the same way as described in the
section “Print on Screen”. <code>INPUT</code> without additional
parameters reads one line from a file. To read or write a file, the file
needs first to be opened. This is done using the command
<code>OPEN</code>:</p>
<div class="sourceCode" id="cb95"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">OPEN</span> file <span class="kw">for INPUT</span>|OUTPUT|<span class="kw">APPEND</span> <span class="kw">as</span> #<span class="dv">1</span></span></code></pre></div>
<p>Using the command <code>OPEN</code>, a file with the file name
<code>file</code> can be opened for reading (<code>INPUT</code>), for
writing (<code>OUTPUT</code>), and writing to an existing file
(<code>APPEND</code>). If you use the parameter <code>OUTPUT</code> and
the file already exist, the file will be deleted. <code>#1</code> is a
ID number you can chose freely, but it must start with
<code>#</code></p>
<p>To write to a file, <code>PRINT</code> can be used:</p>
<div class="sourceCode" id="cb96"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="kw">PRINT</span> #<span class="dv">1</span>, <span class="st">&quot;Hello world&quot;</span></span></code></pre></div>
<p><code>PRINT</code> has the same syntax as the print command in
section “Print on Screen”. To tell <code>PRINT</code>, that the output
should be written to a file, use the file ID number as the first
parameter.</p>
<p>With <code>INPUT</code>, data can be read from a file:</p>
<div class="sourceCode" id="cb97"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="kw">INPUT</span> #<span class="dv">1</span>, s</span></code></pre></div>
<p><code>INPUT</code> without additional parameters reads a line from
file with the file ID <code>#1</code> into the variable
<code>s</code>.</p>
<div class="sourceCode" id="cb98"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="kw">IF </span><span class="fu">EOF</span>(<span class="dv">1</span>) <span class="kw">THEN PR</span>INT <span class="st">&quot;End of file reached&quot;</span></span></code></pre></div>
<p><code>EOF(FileID)</code> returns <code>1</code> if the end of the
file is reached and no more data can be read from file. Please note,
that in case of <code>EOF</code> the File ID is given without
<code>#</code>.</p>
<p>To close a file, use <code>CLOSE #1</code>.</p>
<p>The following example writes the numbers 1 to 10 to a file and reads
these numbers from a file and prints them on screen.</p>
<div class="sourceCode" id="cb99"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; create a text file</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a><span class="fu">OPEN</span> <span class="st">&quot;MyDemoFile.txt&quot;</span> <span class="kw">FOR OUTPUT AS</span> #<span class="dv">1</span></span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a><span class="kw">FOR </span>i = <span class="dv">1</span> <span class="kw">TO</span> <span class="dv">10</span></span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">PRINT</span> #<span class="dv">1</span>, i</span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a><span class="kw">NEXT</span></span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-8"><a href="#cb99-8" aria-hidden="true" tabindex="-1"></a><span class="fu">CLOSE</span> #<span class="dv">1</span></span>
<span id="cb99-9"><a href="#cb99-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-10"><a href="#cb99-10" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; open text file and print content line by line</span></span>
<span id="cb99-11"><a href="#cb99-11" aria-hidden="true" tabindex="-1"></a><span class="fu">OPEN</span> <span class="st">&quot;MyDemoFile.txt&quot;</span> <span class="kw">FOR INPUT AS</span> #<span class="dv">1</span></span>
<span id="cb99-12"><a href="#cb99-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-13"><a href="#cb99-13" aria-hidden="true" tabindex="-1"></a><span class="kw">WHILE(</span>!<span class="fu">EOF</span>(<span class="dv">1</span>))   <span class="co">&#39; eof works only without #</span></span>
<span id="cb99-14"><a href="#cb99-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">INPUT</span> #<span class="dv">1</span>, c</span>
<span id="cb99-15"><a href="#cb99-15" aria-hidden="true" tabindex="-1"></a>    <span class="kw">PRINT</span> c</span>
<span id="cb99-16"><a href="#cb99-16" aria-hidden="true" tabindex="-1"></a><span class="kw">WEND</span></span>
<span id="cb99-17"><a href="#cb99-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-18"><a href="#cb99-18" aria-hidden="true" tabindex="-1"></a><span class="fu">CLOSE</span> #<span class="dv">1</span></span></code></pre></div>
<h3 id="SaveArraysAndMapsToAFile">Save Arrays and Maps to a File</h3>
<p><code>TLOAD</code> and <code>TSAVE</code> provide a simple way to
store arrays, maps or strings in a file and read them. Using a map, json
data can be created and written to a file.</p>
<div class="sourceCode" id="cb100"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Create an array with some data</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>A &lt;&lt; <span class="dv">1</span></span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>A &lt;&lt; <span class="st">&quot;test&quot;</span></span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>A &lt;&lt; <span class="dv">2</span></span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a><span class="kw">PRINT</span> A                         <span class="co">&#39; Output: [1,test,2]</span></span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Save the array. This will create the file myfile.txt in</span></span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; the same directory as your BASIC file</span></span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a><span class="fu">TSAVE</span> <span class="st">&quot;myfile.txt&quot;</span>, A</span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-11"><a href="#cb100-11" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Load the file</span></span>
<span id="cb100-12"><a href="#cb100-12" aria-hidden="true" tabindex="-1"></a><span class="fu">TLOAD</span> <span class="st">&quot;myfile.txt&quot;</span>, B</span>
<span id="cb100-13"><a href="#cb100-13" aria-hidden="true" tabindex="-1"></a><span class="kw">PRINT</span> B                         <span class="co">&#39; Output: [1,test,2,]</span></span></code></pre></div>
<h3 id="SaveVariablesToAFile">Save Variables to a File</h3>
<p>With <code>READ</code> and <code>WRITE</code> numbers, strings and
arrays can be read and written. The resulting file is a binary file.
Viewing this file in a text editor will not show you anymore the context
in a human readable form.</p>
<div class="sourceCode" id="cb101"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>a = <span class="dv">12.3</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>b = <span class="st">&quot;test&quot;</span></span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>c = [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>]</span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Write variables to file</span></span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a><span class="fu">OPEN</span> <span class="st">&quot;text.bin&quot;</span> <span class="kw">FOR OUTPUT AS</span> #<span class="dv">1</span></span>
<span id="cb101-7"><a href="#cb101-7" aria-hidden="true" tabindex="-1"></a><span class="fu">WRITE</span> #<span class="dv">1</span>, a, b, c</span>
<span id="cb101-8"><a href="#cb101-8" aria-hidden="true" tabindex="-1"></a><span class="fu">CLOSE</span> #<span class="dv">1</span></span>
<span id="cb101-9"><a href="#cb101-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-10"><a href="#cb101-10" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; Read variables from file</span></span>
<span id="cb101-11"><a href="#cb101-11" aria-hidden="true" tabindex="-1"></a><span class="fu">OPEN</span> <span class="st">&quot;text.bin&quot;</span> <span class="kw">FOR INPUT AS</span> #<span class="dv">1</span></span>
<span id="cb101-12"><a href="#cb101-12" aria-hidden="true" tabindex="-1"></a><span class="fu">READ</span> #<span class="dv">1</span>, a, b, c</span>
<span id="cb101-13"><a href="#cb101-13" aria-hidden="true" tabindex="-1"></a><span class="fu">CLOSE</span> #<span class="dv">1</span></span>
<span id="cb101-14"><a href="#cb101-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-15"><a href="#cb101-15" aria-hidden="true" tabindex="-1"></a><span class="kw">PRINT</span> a</span>
<span id="cb101-16"><a href="#cb101-16" aria-hidden="true" tabindex="-1"></a><span class="kw">PRINT</span> b</span>
<span id="cb101-17"><a href="#cb101-17" aria-hidden="true" tabindex="-1"></a><span class="kw">PRINT</span> c</span></code></pre></div>
<h3 id="BinaryFiles">Binary Files</h3>
<p><code>BGETC</code> and <code>BPUTC</code> can be used to read and
write a byte from/to a binary file.</p>
<div class="sourceCode" id="cb102"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; create a binary file</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="fu">OPEN</span> <span class="st">&quot;BinaryFile.txt&quot;</span> <span class="kw">for output as</span> #<span class="dv">1</span></span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a><span class="kw">FOR </span>c = <span class="dv">0</span> <span class="kw">TO</span> <span class="dv">255</span></span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">BPUTC</span> #<span class="dv">1</span>, c</span>
<span id="cb102-6"><a href="#cb102-6" aria-hidden="true" tabindex="-1"></a><span class="kw">NEXT</span></span>
<span id="cb102-7"><a href="#cb102-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-8"><a href="#cb102-8" aria-hidden="true" tabindex="-1"></a><span class="fu">CLOSE</span> #<span class="dv">1</span></span>
<span id="cb102-9"><a href="#cb102-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-10"><a href="#cb102-10" aria-hidden="true" tabindex="-1"></a><span class="co">&#39; open binary file and print content</span></span>
<span id="cb102-11"><a href="#cb102-11" aria-hidden="true" tabindex="-1"></a><span class="fu">OPEN</span> <span class="st">&quot;BinaryFile.txt&quot;</span> <span class="kw">FOR INPUT AS</span> #<span class="dv">1</span></span>
<span id="cb102-12"><a href="#cb102-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-13"><a href="#cb102-13" aria-hidden="true" tabindex="-1"></a><span class="kw">FOR </span>i = <span class="dv">0</span> <span class="kw">TO</span> <span class="dv">255</span></span>
<span id="cb102-14"><a href="#cb102-14" aria-hidden="true" tabindex="-1"></a>    c = <span class="fu">BGETC</span>(<span class="dv">1</span>)</span>
<span id="cb102-15"><a href="#cb102-15" aria-hidden="true" tabindex="-1"></a>    <span class="kw">PRINT</span> <span class="fu">CHR</span>(c);</span>
<span id="cb102-16"><a href="#cb102-16" aria-hidden="true" tabindex="-1"></a><span class="kw">NEXT</span></span>
<span id="cb102-17"><a href="#cb102-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-18"><a href="#cb102-18" aria-hidden="true" tabindex="-1"></a><span class="fu">CLOSE</span> #<span class="dv">1</span></span></code></pre></div>
<h2 id="Statement1">OPTION</h2>
<p>The <code>OPTION</code> command is used to pass parameters to the
SB-environment. There are two styles for that, the run-time which can
change the value at run-time, and the compile-time which used only in
compile-time and the value cannot be changed on run-time.</p>
<h3 id="Statement2">OPTION BASE</h3>
<p>The <code>OPTION BASE LowerBound</code> statement sets the lowest
allowable subscript of arrays to <code>LowerBound</code>. The default is
zero. The <code>OPTION BASE</code> statement can be used in any place in
the source code but in most cases the <code>OPTION BASE</code> must be
declared in the first lines of the program before any <code>DIM</code>
declaration.</p>
<p>Use <code>OPTION BASE 1</code> to set the index of the first element
of an array to <code>1</code>. This option is useful especially for
beginners, because it makes counting elements more intuitive.</p>
<div class="sourceCode" id="cb103"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="pp">OPTION</span> BASE <span class="dv">1</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>A = [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>]</span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a><span class="kw">PRINT</span> A[<span class="dv">1</span>]    <span class="co">&#39; Output 1</span></span></code></pre></div>
<p><code>OPTION BASE</code> is a run-time option.</p>
<h3 id="Statement3">OPTION MATCH</h3>
<p><code>OPTION MATCH [PCRE [CASELESS]|SIMPLE]</code> sets the default
matching algorithm to (P)erl-(C)ompatible (R)egular (E)xpressions
library or back to simple. The matching-algorithm is used in
<code>LIKE</code> and <code>FILES</code>. PRCE works only in systems
with this library and SmallBASIC must be linked against it.</p>
<p><code>OPTION MATCH</code> is a run-time option.</p>
<h3 id="Statement4">OPTION PREDEF</h3>
<p><code>OPTION PREDEF parameter</code> sets parameters of the compiler.
Where <code>parameter</code> is</p>
<ul>
<li><code>QUIET</code>: Sets the quiet flag (-q option)</li>
<li><code>COMMAND cmdstr</code>: Sets the <code>COMMAND</code> string to
<code>cmdstr</code> (useful for debug reasons)</li>
<li><code>GRMODE [widthxheight[xbpp]]</code>: Sets the graphics mode
flag (-g option) or sets the preferred screen resolution. Example:
<code>OPTION PREDEF GRMODE 320x320x16</code></li>
<li><code>TEXTMODE</code>: Sets the text mode flag (-g- option)</li>
<li><code>CSTR</code>: Sets as default string style the C-style special
character encoding (<code>\</code>)</li>
<li><code>ANTIALIAS on,off</code> : Enable/Disable anti-aliasing for
drawing commands like <code>CIRCLE</code> or <code>LINE</code></li>
<li><code>OPTION PREDEF AUTOLOCAL</code>: All variables are local by
default</li>
</ul>
<p><code>OPTION PREDEF</code> is a compile-time option.</p>
<h2 id="Meta">Meta Commands</h2>
<p>SmallBASIC uses the following meta commands:</p>
<ul>
<li><code>#!...</code>: Shebang; used by Linux to make source runs as a
script executable</li>
<li><code>#sec: SectionName</code>: Used internally to store the section
name. Sections names are used at limited OSes like PalmOS for multiple
32kB source code sections.</li>
<li><code>#inc: FileName</code>: Used to include a SmallBASIC source
file into the current BASIC code.</li>
<li><code>#unit-path: path</code>: Used to setup additional directories
for searching for unit-files This meta does nothing more than to setting
up the environment variable SB_UNIT_PATH. Directories on Linux must be
separated by <code>:</code>, and on DOS/Windows by <code>;</code></li>
</ul>
<div class="sourceCode" id="cb104"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>#!/usr/<span class="dt">local</span>/<span class="fu">bin</span>/sbasic</span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="cn">#inc</span>:<span class="st">&quot;mylib.bas&quot;</span></span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a><span class="cn">#unit</span>-path: C:\sbasic\units;C:\temp</span></code></pre></div>
<h2 id="ExceptionHandling">Exception Handling</h2>
<p>Exception handling is supported for file handling, and accessing
serial ports and network sockets. Exception handling is typically used
with errors raised when calling a file system command that cannot be
completed, for example attempting to open a non-existent file.</p>
<div class="sourceCode" id="cb105"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="kw">TRY</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">&#39; do something</span></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a><span class="kw">CATCH</span> err</span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">print</span> err</span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">&#39; do something</span></span>
<span id="cb105-6"><a href="#cb105-6" aria-hidden="true" tabindex="-1"></a><span class="kw">END TRY</span></span></code></pre></div>
<div class="sourceCode" id="cb106"><pre
class="sourceCode smallbasic"><code class="sourceCode smallbasic"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="kw">TRY</span></span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">&#39; do something</span></span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a><span class="kw">CATCH</span> <span class="st">&quot;Error 1&quot;</span></span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">&#39; do something</span></span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a><span class="kw">CATCH</span> <span class="st">&quot;Error 2&quot;</span></span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">&#39; do something</span></span>
<span id="cb106-7"><a href="#cb106-7" aria-hidden="true" tabindex="-1"></a><span class="kw">END TRY</span></span></code></pre></div>
<p>The <code>TRY</code> statement introduces a try/catch block. A
try/catch block consist of the following structure:</p>
<p><code>TRY</code></p>
<p>The <code>TRY</code> statement starts a block of commands which might
create a run-time error.</p>
<p><code>CATCH [var | expr]</code></p>
<p>The <code>CATCH</code> statement is used to catch a run-time error of
one of the commands in the try-block.</p>
<p>The <code>CATCH</code> statement has two modes. You can supply a
variable argument to store the error string. Alternatively you can
supply a string expression. When the raised error matches the string
expression, the error will be caught. When using the expression mode,
you can supply a succession of CATCH statements to handle various error
messages separately.</p>
<p><code>END TRY</code></p>
<p>The <code>END TRY</code> statement marks the end of a try/catch
block.</p>
<p>For examples see the language reference <a
href="https://smallbasic.github.io/reference/1425.html">TRY</a>.</p>
</div>
    <div class="pagefooter">
      This page was last edited on Sat, 15 Nov 2025 14:13:14 +0100
 |
      <a href="https://en.wikipedia.org/wiki/Markdown" target="_blank" rel="nofollow">Markdown</a>
      processed with
      <a href="https://pandoc.org/MANUAL.html#pandocs-markdown" target="_blank" rel="nofollow">pandoc 3.5</a>
    </div>
  </div>
</div>
  </body>
</html>
